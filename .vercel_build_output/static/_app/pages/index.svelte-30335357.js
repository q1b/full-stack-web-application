import{S as A,i as F,s as H,e as $,N as k,k as T,c as j,a as m,O as b,d,n as M,b as r,f as E,F as v,G as I,r as J,u as z,w as Q,x as D,J as fe,P as re,Q as se,R as le,T as de,U as he,t as me,j as S,g as ve,m as Y,o as q,V as W,W as pe,X as _e,Y as oe,h as ge,Z as we,v as G,_ as ke,$ as be,a0 as xe,a1 as ye,a2 as Ee,a3 as $e,a4 as je,a5 as Be,a6 as Ce,a7 as Re}from"../chunks/vendor-d7c8f756.js";const X=(u,{result:e})=>{const t=async s=>{s.preventDefault();try{const n=new FormData(u),l=await fetch(u.action,{method:u.method,headers:{accept:"application/json"},body:n});l.ok?e(l,u):console.error("Fetch error: ",await l.text())}catch(n){console.error("Could not submit the form: ",n)}};return u.addEventListener("submit",t),{destroy(){u.removeEventListener("submit",t)}}};function Ie(u){let e,t,s,n,l,o;return{c(){e=$("button"),t=k("svg"),s=k("path"),n=T(),l=k("svg"),o=k("path"),this.h()},l(a){e=j(a,"BUTTON",{class:!0});var i=m(e);t=b(i,"svg",{xmlns:!0,class:!0,viewBox:!0,fill:!0});var f=m(t);s=b(f,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),m(s).forEach(d),f.forEach(d),n=M(i),l=b(i,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,stroke:!0});var c=m(l);o=b(c,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),m(o).forEach(d),c.forEach(d),i.forEach(d),this.h()},h(){r(s,"fill-rule","evenodd"),r(s,"d","M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z"),r(s,"clip-rule","evenodd"),r(t,"xmlns","http://www.w3.org/2000/svg"),r(t,"class","inactive-svg text-sky-500"),r(t,"viewBox","0 0 20 20"),r(t,"fill","currentColor"),r(o,"stroke-linecap","round"),r(o,"stroke-linejoin","round"),r(o,"stroke-width","2"),r(o,"d","M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"),r(l,"xmlns","http://www.w3.org/2000/svg"),r(l,"class","frontsvg"),r(l,"fill","none"),r(l,"viewBox","0 0 24 24"),r(l,"stroke","currentColor"),r(e,"class","relative group")},m(a,i){E(a,e,i),v(e,t),v(t,s),v(e,n),v(e,l),v(l,o)},p:I,i:I,o:I,d(a){a&&d(e)}}}class Te extends A{constructor(e){super();F(this,e,null,Ie,H,{})}}function Me(u){let e,t,s,n,l,o;return{c(){e=$("button"),t=k("svg"),s=k("path"),n=T(),l=k("svg"),o=k("path"),this.h()},l(a){e=j(a,"BUTTON",{class:!0,title:!0});var i=m(e);t=b(i,"svg",{xmlns:!0,class:!0,viewBox:!0,fill:!0});var f=m(t);s=b(f,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),m(s).forEach(d),f.forEach(d),n=M(i),l=b(i,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,stroke:!0});var c=m(l);o=b(c,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),m(o).forEach(d),c.forEach(d),i.forEach(d),this.h()},h(){r(s,"fill-rule","evenodd"),r(s,"d","M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z"),r(s,"clip-rule","evenodd"),r(t,"xmlns","http://www.w3.org/2000/svg"),r(t,"class","inactive-svg text-indigo-400"),r(t,"viewBox","0 0 20 20"),r(t,"fill","currentColor"),r(o,"stroke-linecap","round"),r(o,"stroke-linejoin","round"),r(o,"stroke-width","2"),r(o,"d","M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"),r(l,"xmlns","http://www.w3.org/2000/svg"),r(l,"class","frontsvg"),r(l,"fill","none"),r(l,"viewBox","0 0 24 24"),r(l,"stroke","currentColor"),r(e,"class","relative group"),r(e,"title","un done this")},m(a,i){E(a,e,i),v(e,t),v(t,s),v(e,n),v(e,l),v(l,o)},p:I,i:I,o:I,d(a){a&&d(e)}}}class ze extends A{constructor(e){super();F(this,e,null,Me,H,{})}}function De(u){let e,t,s,n,l,o;return{c(){e=$("button"),t=k("svg"),s=k("path"),n=T(),l=k("svg"),o=k("path"),this.h()},l(a){e=j(a,"BUTTON",{class:!0});var i=m(e);t=b(i,"svg",{xmlns:!0,class:!0,viewBox:!0,fill:!0});var f=m(t);s=b(f,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),m(s).forEach(d),f.forEach(d),n=M(i),l=b(i,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,stroke:!0});var c=m(l);o=b(c,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),m(o).forEach(d),c.forEach(d),i.forEach(d),this.h()},h(){r(s,"fill-rule","evenodd"),r(s,"d","M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"),r(s,"clip-rule","evenodd"),r(t,"xmlns","http://www.w3.org/2000/svg"),r(t,"class","inactive-svg text-green-400"),r(t,"viewBox","0 0 20 20"),r(t,"fill","currentColor"),r(o,"stroke-linecap","round"),r(o,"stroke-linejoin","round"),r(o,"stroke-width","2"),r(o,"d","M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"),r(l,"xmlns","http://www.w3.org/2000/svg"),r(l,"class","frontsvg"),r(l,"fill","none"),r(l,"viewBox","0 0 24 24"),r(l,"stroke","currentColor"),r(e,"class","relative group")},m(a,i){E(a,e,i),v(e,t),v(t,s),v(e,n),v(e,l),v(l,o)},p:I,i:I,o:I,d(a){a&&d(e)}}}class Le extends A{constructor(e){super();F(this,e,null,De,H,{})}}function Ne(u){let e,t,s,n,l,o;return{c(){e=k("svg"),t=k("circle"),s=k("circle"),n=k("animateTransform"),this.h()},l(a){e=b(a,"svg",{width:!0,height:!0,version:!0,id:!0,xmlns:!0,"xmlns:xlink":!0,x:!0,y:!0,viewBox:!0,"enable-background":!0,"xml:space":!0});var i=m(e);t=b(i,"circle",{fill:!0,stroke:!0,"stroke-width":!0,cx:!0,cy:!0,r:!0,style:!0}),m(t).forEach(d),s=b(i,"circle",{fill:!0,stroke:!0,"stroke-width":!0,cx:!0,cy:!0,r:!0});var f=m(s);n=b(f,"animateTransform",{attributeName:!0,dur:!0,type:!0,from:!0,to:!0,repeatCount:!0}),m(n).forEach(d),f.forEach(d),i.forEach(d),this.h()},h(){r(t,"fill","none"),r(t,"stroke","currentColor"),r(t,"stroke-width","4"),r(t,"cx","50"),r(t,"cy","50"),r(t,"r","44"),fe(t,"opacity","0.5"),r(n,"attributeName","transform"),r(n,"dur","2s"),r(n,"type","rotate"),r(n,"from","0 50 48"),r(n,"to","360 50 52"),r(n,"repeatCount","indefinite"),r(s,"fill","currentColor"),r(s,"stroke","#e74c3c"),r(s,"stroke-width","3"),r(s,"cx","8"),r(s,"cy","54"),r(s,"r","6"),r(e,"width","28"),r(e,"height","28"),r(e,"version","1.1"),r(e,"id","L3"),r(e,"xmlns","http://www.w3.org/2000/svg"),r(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),r(e,"x","0px"),r(e,"y","0px"),r(e,"viewBox","0 0 100 100"),r(e,"enable-background","new 0 0 0 0"),r(e,"xml:space","preserve")},m(a,i){E(a,e,i),v(e,t),v(e,s),v(s,n),o=!0},i(a){o||(re(()=>{l||(l=se(e,le,{},!0)),l.run(1)}),o=!0)},o(a){l||(l=se(e,le,{},!1)),l.run(0),o=!1},d(a){a&&d(e),a&&l&&l.end()}}}function Ve(u){let e,t,s,n,l;return{c(){e=k("svg"),t=k("path"),s=T(),n=k("svg"),l=k("path"),this.h()},l(o){e=b(o,"svg",{xmlns:!0,class:!0,viewBox:!0,fill:!0});var a=m(e);t=b(a,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),m(t).forEach(d),a.forEach(d),s=M(o),n=b(o,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,stroke:!0});var i=m(n);l=b(i,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),m(l).forEach(d),i.forEach(d),this.h()},h(){r(t,"fill-rule","evenodd"),r(t,"d","M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z"),r(t,"clip-rule","evenodd"),r(e,"xmlns","http://www.w3.org/2000/svg"),r(e,"class","inactive-svg text-red-500"),r(e,"viewBox","0 0 20 20"),r(e,"fill","currentColor"),r(l,"stroke-linecap","round"),r(l,"stroke-linejoin","round"),r(l,"stroke-width","2"),r(l,"d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"),r(n,"xmlns","http://www.w3.org/2000/svg"),r(n,"class","frontsvg"),r(n,"fill","none"),r(n,"viewBox","0 0 24 24"),r(n,"stroke","currentColor")},m(o,a){E(o,e,a),v(e,t),E(o,s,a),E(o,n,a),v(n,l)},i:I,o:I,d(o){o&&d(e),o&&d(s),o&&d(n)}}}function Ue(u){let e,t,s,n;const l=[Ve,Ne],o=[];function a(i,f){return i[0]?1:0}return t=a(u),s=o[t]=l[t](u),{c(){e=$("button"),s.c(),this.h()},l(i){e=j(i,"BUTTON",{class:!0,title:!0});var f=m(e);s.l(f),f.forEach(d),this.h()},h(){r(e,"class","relative group"),r(e,"title","delete it")},m(i,f){E(i,e,f),o[t].m(e,null),n=!0},p(i,[f]){let c=t;t=a(i),t!==c&&(J(),z(o[c],1,1,()=>{o[c]=null}),Q(),s=o[t],s||(s=o[t]=l[t](i),s.c()),D(s,1),s.m(e,null))},i(i){n||(D(s),n=!0)},o(i){z(s),n=!1},d(i){i&&d(e),o[t].d()}}}function Oe(u,e,t){let{isRemoving:s=!1}=e;return u.$$set=n=>{"isRemoving"in n&&t(0,s=n.isRemoving)},[s]}class Ae extends A{constructor(e){super();F(this,e,Oe,Ue,H,{isRemoving:0})}}function Fe(u){let e,t;return e=new Le({}),{c(){S(e.$$.fragment)},l(s){Y(e.$$.fragment,s)},m(s,n){q(e,s,n),t=!0},i(s){t||(D(e.$$.fragment,s),t=!0)},o(s){z(e.$$.fragment,s),t=!1},d(s){G(e,s)}}}function He(u){let e,t;return e=new ze({}),{c(){S(e.$$.fragment)},l(s){Y(e.$$.fragment,s)},m(s,n){q(e,s,n),t=!0},i(s){t||(D(e.$$.fragment,s),t=!0)},o(s){z(e.$$.fragment,s),t=!1},d(s){G(e,s)}}}function Pe(u){let e,t,s,n,l,o,a,i,f,c,y=u[0].task+"",B,L,N,x,C,_,p,g,R,V,Z;const K=[He,Fe],U=[];function ee(h,w){return h[0].done?0:1}l=ee(u),o=U[l]=K[l](u);function ce(h){u[4](h)}let te={};return u[3]!==void 0&&(te.isRemoving=u[3]),C=new Ae({props:te}),de.push(()=>he(C,"isRemoving",ce)),{c(){e=$("form"),t=$("input"),n=T(),o.c(),f=T(),c=$("div"),B=me(y),N=T(),x=$("form"),S(C.$$.fragment),this.h()},l(h){e=j(h,"FORM",{action:!0,method:!0});var w=m(e);t=j(w,"INPUT",{type:!0,name:!0}),n=M(w),o.l(w),w.forEach(d),f=M(h),c=j(h,"DIV",{class:!0});var O=m(c);B=ve(O,y),O.forEach(d),N=M(h),x=j(h,"FORM",{action:!0,method:!0});var P=m(x);Y(C.$$.fragment,P),P.forEach(d),this.h()},h(){r(t,"type","hidden"),r(t,"name","done"),t.value=s=u[0].done?"":"true",r(e,"action",a="/todos/"+u[0]._id+".json?_method=patch"),r(e,"method","post"),r(c,"class",L=""+((u[0].done?"bg-green-300 line-through":"bg-sky-300")+" transition-color flex flex-wrap items-center font-medium tracking-wider text-sky-800 border-2 focus-within:scale-[1.01] focus-within:border-slate-500 focus:focus-within:outline-none transition-transform border-sky-50 max-w-lg w-full rounded-lg p-2")),r(x,"action",p="/todos/"+u[0]._id+".json?_method=delete"),r(x,"method","post")},m(h,w){E(h,e,w),v(e,t),v(e,n),U[l].m(e,null),E(h,f,w),E(h,c,w),v(c,B),E(h,N,w),E(h,x,w),q(C,x,null),R=!0,V||(Z=[W(i=X.call(null,e,{result:u[2]})),pe(x,"submit",_e(u[5]),{once:!0}),W(g=X.call(null,x,{result:u[1]}))],V=!0)},p(h,[w]){(!R||w&1&&s!==(s=h[0].done?"":"true"))&&(t.value=s);let O=l;l=ee(h),l!==O&&(J(),z(U[O],1,1,()=>{U[O]=null}),Q(),o=U[l],o||(o=U[l]=K[l](h),o.c()),D(o,1),o.m(e,null)),(!R||w&1&&a!==(a="/todos/"+h[0]._id+".json?_method=patch"))&&r(e,"action",a),i&&oe(i.update)&&w&4&&i.update.call(null,{result:h[2]}),(!R||w&1)&&y!==(y=h[0].task+"")&&ge(B,y),(!R||w&1&&L!==(L=""+((h[0].done?"bg-green-300 line-through":"bg-sky-300")+" transition-color flex flex-wrap items-center font-medium tracking-wider text-sky-800 border-2 focus-within:scale-[1.01] focus-within:border-slate-500 focus:focus-within:outline-none transition-transform border-sky-50 max-w-lg w-full rounded-lg p-2")))&&r(c,"class",L);const P={};!_&&w&8&&(_=!0,P.isRemoving=h[3],we(()=>_=!1)),C.$set(P),(!R||w&1&&p!==(p="/todos/"+h[0]._id+".json?_method=delete"))&&r(x,"action",p),g&&oe(g.update)&&w&2&&g.update.call(null,{result:h[1]})},i(h){R||(D(o),D(C.$$.fragment,h),R=!0)},o(h){z(o),z(C.$$.fragment,h),R=!1},d(h){h&&d(e),U[l].d(),h&&d(f),h&&d(c),h&&d(N),h&&d(x),G(C),V=!1,ke(Z)}}}function Se(u,e,t){let{details:s}=e,{processDeletedItem:n}=e,{processCheckedItem:l}=e,o;function a(f){o=f,t(3,o)}const i=()=>{t(3,o=!0)};return u.$$set=f=>{"details"in f&&t(0,s=f.details),"processDeletedItem"in f&&t(1,n=f.processDeletedItem),"processCheckedItem"in f&&t(2,l=f.processCheckedItem)},[s,n,l,o,a,i]}class Ye extends A{constructor(e){super();F(this,e,Se,Pe,H,{details:0,processDeletedItem:1,processCheckedItem:2})}}function ne(u,e,t){const s=u.slice();return s[4]=e[t],s}function ae(u,e){let t,s,n,l,o,a,i=I,f;return s=new Ye({props:{details:e[4],processDeletedItem:e[2],processCheckedItem:e[3]}}),{key:u,first:null,c(){t=$("div"),S(s.$$.fragment),n=T(),this.h()},l(c){t=j(c,"DIV",{class:!0});var y=m(t);Y(s.$$.fragment,y),n=M(y),y.forEach(d),this.h()},h(){r(t,"class","w-full flex items-center gap-x-3 justify-center"),this.first=t},m(c,y){E(c,t,y),q(s,t,null),v(t,n),f=!0},p(c,y){e=c;const B={};y&1&&(B.details=e[4]),s.$set(B)},r(){a=t.getBoundingClientRect()},f(){be(t),i(),xe(t,a)},a(){i(),i=ye(t,a,je,{delay:200})},i(c){f||(D(s.$$.fragment,c),re(()=>{o&&o.end(1),l=Be(t,Ge,{duration:200}),l.start()}),f=!0)},o(c){z(s.$$.fragment,c),l&&l.invalidate(),o=Ee(t,Ce,{duration:200}),f=!1},d(c){c&&d(t),G(s),c&&o&&o.end()}}}function qe(u){let e,t,s,n,l,o,a,i,f,c=[],y=new Map,B,L,N;a=new Te({});let x=[...u[0].filter(ie),...u[0].filter(ue)];const C=_=>_[4]._id;for(let _=0;_<x.length;_+=1){let p=ne(u,x,_),g=C(p);y.set(g,c[_]=ae(g,p))}return{c(){e=$("article"),t=$("form"),s=$("div"),n=T(),l=$("input"),o=T(),S(a.$$.fragment),i=T(),f=$("div");for(let _=0;_<c.length;_+=1)c[_].c();this.h()},l(_){e=j(_,"ARTICLE",{class:!0});var p=m(e);t=j(p,"FORM",{class:!0,action:!0,method:!0});var g=m(t);s=j(g,"DIV",{class:!0}),m(s).forEach(d),n=M(g),l=j(g,"INPUT",{type:!0,name:!0,"aria-label":!0,placeholder:!0,class:!0}),o=M(g),Y(a.$$.fragment,g),g.forEach(d),i=M(p),f=j(p,"DIV",{class:!0});var R=m(f);for(let V=0;V<c.length;V+=1)c[V].l(R);R.forEach(d),p.forEach(d),this.h()},h(){r(s,"class","w-7"),r(l,"type","text"),r(l,"name","task"),r(l,"aria-label","add a todo"),r(l,"placeholder","+ Add todo"),r(l,"class","placeholder:text-slate-300 font-code text-slate-900 bg-white border-2 font-medium focus-within:scale-[1.01] focus-within:border-slate-500 focus:focus-within:outline-none transition-transform border-sky-50 max-w-lg w-full h-10 rounded-lg px-2"),r(t,"class","w-full col-span-full flex items-center gap-x-3 justify-center"),r(t,"action","/todos.json"),r(t,"method","post"),r(f,"class","mt-10 col-span-full flex w-full flex-col gap-y-6"),r(e,"class","w-full px-10 grid grid-cols-6 gap-y-6 place-items-center")},m(_,p){E(_,e,p),v(e,t),v(t,s),v(t,n),v(t,l),v(t,o),q(a,t,null),v(e,i),v(e,f);for(let g=0;g<c.length;g+=1)c[g].m(f,null);B=!0,L||(N=W(X.call(null,t,{result:u[1]})),L=!0)},p(_,[p]){if(p&13){x=[..._[0].filter(ie),..._[0].filter(ue)],J();for(let g=0;g<c.length;g+=1)c[g].r();c=$e(c,p,C,1,_,x,y,f,Re,ae,null,ne);for(let g=0;g<c.length;g+=1)c[g].a();Q()}},i(_){if(!B){D(a.$$.fragment,_);for(let p=0;p<x.length;p+=1)D(c[p]);B=!0}},o(_){z(a.$$.fragment,_);for(let p=0;p<c.length;p+=1)z(c[p]);B=!1},d(_){_&&d(e),G(a);for(let p=0;p<c.length;p+=1)c[p].d();L=!1,N()}}}const We=async({fetch:u})=>{const e=await u("/todos.json");if(e.ok)return{props:{tasks:(await e.json()).tasks}};const{message:t}=await e.json();return{error:new Error(t)}};function Ge(u,{duration:e}){return{duration:e,css:(t,s)=>`
            opacity: ${t};
						transform: scale(${t}) translateY(${s*70}px);
					`}}const ie=u=>u.done,ue=u=>!u.done;function Je(u,e,t){let{tasks:s}=e;const n=async(a,i)=>{const f=await a.json();t(0,s=[...f]),i.reset()},l=async a=>{const i=await a.json();t(0,s=[...i])},o=async a=>{const i=await a.json();t(0,s=[...i])};return u.$$set=a=>{"tasks"in a&&t(0,s=a.tasks)},[s,n,l,o]}class Xe extends A{constructor(e){super();F(this,e,Je,qe,H,{tasks:0})}}export{Xe as default,We as load};
